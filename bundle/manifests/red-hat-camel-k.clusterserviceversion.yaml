# ---------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# ---------------------------------------------------------------------------

apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |-
      [
        {
          "apiVersion": "camel.apache.org/v1",
          "kind": "Build",
          "metadata": {
            "name": "example"
          },
          "spec": {}
        },
        {
          "apiVersion": "camel.apache.org/v1",
          "kind": "CamelCatalog",
          "metadata": {
            "name": "example"
          },
          "spec": {}
        },
        {
          "apiVersion": "camel.apache.org/v1",
          "kind": "Integration",
          "metadata": {
            "name": "example"
          },
          "spec": {
            "flows": [
              {
                "from": {
                  "parameters": {
                    "period": "1000"
                  },
                  "steps": [
                    {
                      "set-body": {
                        "constant": "Hello from Camel K"
                      }
                    },
                    {
                      "to": "log:info"
                    }
                  ],
                  "uri": "timer:yaml"
                }
              }
            ]
          }
        },
        {
          "apiVersion": "camel.apache.org/v1",
          "kind": "IntegrationKit",
          "metadata": {
            "name": "example"
          },
          "spec": {}
        },
        {
          "apiVersion": "camel.apache.org/v1",
          "kind": "IntegrationPlatform",
          "metadata": {
            "labels": {
              "app": "camel-dashboard"
            },
            "name": "camel-dashboard"
          },
          "spec": {
            "build": {},
            "kamelet": {},
            "profile": "OpenShift",
            "resources": {}
          },
          "status": {
            "build": {
              "maven": {
                "settings": {}
              },
              "registry": {}
            },
            "kamelet": {},
            "resources": {}
          }
        },
        {
          "apiVersion": "camel.apache.org/v1alpha1",
          "kind": "Kamelet",
          "metadata": {
            "name": "example"
          },
          "spec": {
            "definition": {
              "description": "Produces periodic events with a custom payload",
              "properties": {
                "message": {
                  "description": "The message to generate",
                  "title": "Message",
                  "type": "string"
                },
                "period": {
                  "default": 1000,
                  "description": "The time interval between two events",
                  "title": "Period",
                  "type": "integer"
                }
              },
              "required": [
                "message"
              ],
              "title": "Example Timer"
            },
            "template": {
              "from": {
                "parameters": {
                  "period": "#property:period"
                },
                "steps": [
                  {
                    "set-body": {
                      "constant": "#property:message"
                    }
                  },
                  {
                    "to": "kamelet:sink"
                  }
                ],
                "uri": "timer:tick"
              }
            }
          }
        },
        {
          "apiVersion": "camel.apache.org/v1alpha1",
          "kind": "KameletBinding",
          "metadata": {
            "name": "example"
          },
          "spec": {
            "sink": {
              "ref": {
                "apiVersion": "messaging.knative.dev/v1",
                "kind": "InMemoryChannel",
                "name": "example"
              }
            },
            "source": {
              "properties": {
                "message": "Hello world"
              },
              "ref": {
                "apiVersion": "camel.apache.org/v1alpha1",
                "kind": "Kamelet",
                "name": "example"
              }
            }
          }
        }
      ]
    capabilities: Full Lifecycle
    categories: Integration & Delivery
    certified: "false"
    containerImage: registry-proxy.engineering.redhat.com/rh-osbs/integration-camel-dashboard-rhel8-operator:1.10.10
    createdAt: "2025-03-10T15:33:06Z"
    description: Red Hat Integration - Camel K is a lightweight integration platform,
      born on Kubernetes, with serverless superpowers.
    features.operators.openshift.io/cnf: "false"
    features.operators.openshift.io/cni: "false"
    features.operators.openshift.io/csi: "false"
    features.operators.openshift.io/disconnected: "true"
    features.operators.openshift.io/fips-compliant: "false"
    features.operators.openshift.io/proxy-aware: "true"
    features.operators.openshift.io/tls-profiles: "false"
    features.operators.openshift.io/token-auth-aws: "false"
    features.operators.openshift.io/token-auth-azure: "false"
    features.operators.openshift.io/token-auth-gcp: "false"
    olm.skipRange: '>=1.8.0 <1.10.0'
    operators.openshift.io/valid-subscription: '["Red Hat Integration", "Red Hat Application
      Foundations", "Red Hat Camel K"]'
    operators.operatorframework.io/builder: operator-sdk-v1.13.0+git
    operators.operatorframework.io/internal-objects: '["builds.camel.apache.org","integrationkits.camel.apache.org","camelcatalogs.camel.apache.org"]'
    operators.operatorframework.io/project_layout: go.kubebuilder.io/v2
    repository: https://github.com/apache/camel-dashboard
    support: Camel
  name: red-hat-camel-dashboard-operator.v1.10.10
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
    - description: Build is the Schema for the builds API
      displayName: Build
      kind: Build
      name: builds.camel.apache.org
      version: v1
    - description: CamelCatalog is the Schema for the camelcatalogs API
      displayName: Camel Catalog
      kind: CamelCatalog
      name: camelcatalogs.camel.apache.org
      version: v1
    - description: IntegrationKit is the Schema for the integrationkits API
      displayName: Integration Kit
      kind: IntegrationKit
      name: integrationkits.camel.apache.org
      version: v1
    - description: IntegrationPlatform is the Schema for the integrationplatforms
        API
      displayName: Integration Platform
      kind: IntegrationPlatform
      name: integrationplatforms.camel.apache.org
      version: v1
    - description: Integration is the Schema for the integrations API
      displayName: Integration
      kind: Integration
      name: integrations.camel.apache.org
      version: v1
    - description: KameletBinding is the Schema for the kamelets binding API
      displayName: Kamelet Binding
      kind: KameletBinding
      name: kameletbindings.camel.apache.org
      version: v1alpha1
    - description: Kamelet is the Schema for the kamelets API
      displayName: Kamelet
      kind: Kamelet
      name: kamelets.camel.apache.org
      version: v1alpha1
  description: |
    Red Hat Integration - Camel K
    ==============

    **Red Hat Integration - Camel K** is a lightweight integration platform, born on Kubernetes, with serverless superpowers.

    ## Installation

    To start using Camel K, install the operator and then create the following `IntegrationPlatform`:
    ```
    apiVersion: camel.apache.org/v1
    kind: IntegrationPlatform
    metadata:
      name: camel-dashboard
      labels:
        app: "camel-dashboard"
    ```

    An `IntegrationPlatform` resource is automatically created by default on OpenShift, so you can skip this step.
    Also, You can edit the `IntegrationPlatform`, to configure Camel K.
    The configuration from the `IntegrationPlatform` will apply to the Camel integrations created in the same namespace/project.

    ## Running an Integration

    After the initial setup, you can run a Camel integration on the cluster by creating an example `Integration`, e.g.:
    ```
    apiVersion: camel.apache.org/v1
    kind: Integration
    metadata:
      name: example
    spec:
      sources:
      - name: Example.java
        content: |
          import org.apache.camel.builder.RouteBuilder;

          public class Example extends RouteBuilder {
              @Override
              public void configure() throws Exception {
                  from("timer:tick")
                      .setBody(constant("Hello World!"))
                  .to("log:info?skipBodyLineSeparator=false");
              }
          }
    ```
  displayName: Red Hat Integration - Camel K
  icon:
  - base64data: PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2Q3MWUwMDt9LmNscy0ye2ZpbGw6I2MyMWEwMDt9LmNscy0ze2ZpbGw6I2ZmZjt9LmNscy00e2ZpbGw6I2VhZWFlYTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPkxvZ288L3RpdGxlPjxnIGlkPSJMYXllcl8xIiBkYXRhLW5hbWU9IkxheWVyIDEiPjxjaXJjbGUgY2xhc3M9ImNscy0xIiBjeD0iNTAiIGN5PSI1MCIgcj0iNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMC43MSA1MCkgcm90YXRlKC00NSkiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik04NS4zNiwxNC42NEE1MCw1MCwwLDAsMSwxNC42NCw4NS4zNloiLz48cGF0aCBkPSJNMzEsMzEuMzZhMS45NCwxLjk0LDAsMCwxLTMuNjItLjg5LjQzLjQzLDAsMCwxLC41My0uNDQsMy4zMiwzLjMyLDAsMCwwLDIuODEuN0EuNDMuNDMsMCwwLDEsMzEsMzEuMzZaIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNNzcuNjMsNDQuNzZDNzcuMTIsNDEuMzQsNzMsMjEsNjYuMzIsMjFjLTIuNDQsMC00LjU5LDMuMzUtNiw2Ljg4LS40NCwxLjA2LTEuMjMsMS4wOC0xLjYzLDBDNTcuMjQsMjQuMTYsNTUuODgsMjEsNTMuMjgsMjEsNDMuMzQsMjEsNDcuODQsNDUuMTgsMzksNDUuMThjLTQuNTcsMC01LjM3LTEwLjU5LTUuNS0xNC43MiwyLjE5LjY1LDMuMy0xLDMuNTUtMi42MWEuNjMuNjMsMCwwLDAtLjQ4LS43MiwzLjM2LDMuMzYsMCwwLDAtMywuODlIMjcuMzFhMSwxLDAsMCwwLS42OC4yOGwtLjUzLjUzSDIyLjIxYS41NC41NCwwLDAsMC0uMzguMTZsLTMuOTUsMy45NWEuNTQuNTQsMCwwLDAsLjM4LjkxaC4zNmwwLDBIMjkuNzFjLjYsNi4yNiwxLjc1LDIyLDE2LjQyLDE3LjE5bC0uMzIsNUw0NC4zNyw3OC40NmExLDEsMCwwLDAsMSwxaDQuOWExLDEsMCwwLDAsMS0xbC0uNjEtMjMuMzMtLjE1LTUuODFjNi0yLjc4LDktNS42NiwxNi4xOS02Ljc1LTEuNTksMi42Mi0yLjA1LDYuODctMi4wNiw4LS4wNiw2LDIuNTUsOC43NCw1LDEzLjIyTDYzLjczLDc4YTEsMSwwLDAsMCwuODksMS4zMmg0LjY0YTEsMSwwLDAsMCwuOTMtLjc0TDc0LDYyLjZjLTQuODMtNy40MywxLjgzLTE1LjMxLDMuNDEtMTdBMSwxLDAsMCwwLDc3LjYzLDQ0Ljc2Wk0zMSwzMS4zNmExLjk0LDEuOTQsMCwwLDEtMy42Mi0uODkuNDMuNDMsMCwwLDEsLjUzLS40NCwzLjMyLDMuMzIsMCwwLDAsMi44MS43QS40My40MywwLDAsMSwzMSwzMS4zNloiLz48cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik00Ni4xMyw1MS4wN0MzMS40Niw1NS45MiwzMC4zMSw0MC4xNCwyOS43MSwzMy44OEgxOC42NUwyMC43NSwzNmExLDEsMCwwLDAsLjY4LjI4aDZjMCw1LjgsMS4xMywyMC4yLDE0LDIwLjJhMzEuMzQsMzEuMzQsMCwwLDAsNC40Mi0uMzVaIi8+PHBhdGggY2xhc3M9ImNscy00IiBkPSJNNTAuNDEsNDkuMzZsLjE1LDUuODFhMTA4LjIsMTA4LjIsMCwwLDAsMTQtNC41NCwxOS43OSwxOS43OSwwLDAsMSwyLjA2LThDNTkuNDYsNDMuNyw1Ni40NCw0Ni41OCw1MC40MSw0OS4zNloiLz48L2c+PC9zdmc+
    mediatype: image/svg+xml
  install:
    spec:
      clusterPermissions:
      - rules:
        - apiGroups:
          - rbac.authorization.k8s.io
          resourceNames:
          - addressable-resolver
          resources:
          - clusterroles
          verbs:
          - bind
        - apiGroups:
          - console.openshift.io
          resources:
          - consoleclidownloads
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - apiextensions.k8s.io
          resources:
          - customresourcedefinitions
          verbs:
          - get
        serviceAccountName: camel-dashboard-operator
      deployments:
      - name: camel-dashboard-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              name: camel-dashboard-operator
          strategy:
            type: Recreate
          template:
            metadata:
              labels:
                app: camel-dashboard
                app.kubernetes.io/component: operator
                app.kubernetes.io/name: camel-dashboard
                app.kubernetes.io/version: 1.10.10
                camel.apache.org/component: operator
                name: camel-dashboard-operator
            spec:
              containers:
              - command:
                - kamel
                - operator
                env:
                - name: WATCH_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.annotations['olm.targetNamespaces']
                - name: OPERATOR_NAME
                  value: camel-dashboard
                - name: OPERATOR_ID
                  value: camel-dashboard
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
                - name: NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.namespace
                image: registry-proxy.engineering.redhat.com/rh-osbs/integration-camel-dashboard-rhel8-operator:1.10.10
                imagePullPolicy: IfNotPresent
                livenessProbe:
                  httpGet:
                    path: /healthz
                    port: 8081
                  initialDelaySeconds: 20
                  periodSeconds: 10
                name: camel-dashboard-operator
                ports:
                - containerPort: 8080
                  name: metrics
                resources: {}
              serviceAccountName: camel-dashboard-operator
      permissions:
      - rules:
        - apiGroups:
          - ""
          resourceNames:
          - local-registry-hosting
          resources:
          - configmaps
          verbs:
          - get
        - apiGroups:
          - camel.apache.org
          resources:
          - builds
          - camelcatalogs
          - integrationkits
          - integrationplatforms
          - integrations
          - kameletbindings
          - kamelets
          verbs:
          - create
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - camel.apache.org
          resources:
          - builds
          verbs:
          - delete
        - apiGroups:
          - camel.apache.org
          resources:
          - builds/status
          - camelcatalogs/status
          - integrationkits/status
          - integrationplatforms/status
          - integrations/scale
          - integrations/status
          - kameletbindings/status
          - kameletbindings/scale
          - kamelets/status
          verbs:
          - get
          - patch
          - update
        - apiGroups:
          - ""
          resources:
          - pods
          - services
          - endpoints
          - persistentvolumeclaims
          - configmaps
          - secrets
          - serviceaccounts
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ""
          resources:
          - pods/exec
          verbs:
          - create
        - apiGroups:
          - ""
          resources:
          - pods/proxy
          verbs:
          - get
        - apiGroups:
          - policy
          resources:
          - poddisruptionbudgets
          verbs:
          - create
          - delete
          - get
          - update
          - list
          - patch
          - watch
        - apiGroups:
          - rbac.authorization.k8s.io
          resources:
          - roles
          - rolebindings
          - clusterrolebindings
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - apps
          resources:
          - deployments
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - batch
          resources:
          - cronjobs
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - batch
          resources:
          - jobs
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - networking.k8s.io
          resources:
          - ingresses
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - create
          - patch
          - get
          - list
          - watch
        - apiGroups:
          - keda.sh
          resources:
          - scaledobjects
          - triggerauthentications
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - serving.knative.dev
          resources:
          - services
          - routes
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - eventing.knative.dev
          resources:
          - triggers
          - brokers
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
        - apiGroups:
          - messaging.knative.dev
          resources:
          - subscriptions
          - channels
          - inmemorychannels
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
        - apiGroups:
          - sources.knative.dev
          resources:
          - sinkbindings
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
          - patch
        - apiGroups:
          - coordination.k8s.io
          resources:
          - leases
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - camel.apache.org
          resources:
          - builds/finalizers
          - integrationkits/finalizers
          - integrationplatforms/finalizers
          - integrations/finalizers
          - kameletbindings/finalizers
          verbs:
          - update
        - apiGroups:
          - ""
          - build.openshift.io
          resources:
          - buildconfigs
          - buildconfigs/webhooks
          - builds
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ""
          - image.openshift.io
          resources:
          - imagestreamimages
          - imagestreammappings
          - imagestreams
          - imagestreams/secrets
          - imagestreamtags
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ""
          - build.openshift.io
          resources:
          - buildconfigs/instantiate
          - buildconfigs/instantiatebinary
          - builds/clone
          verbs:
          - create
        - apiGroups:
          - ""
          - route.openshift.io
          resources:
          - routes
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ""
          - route.openshift.io
          resources:
          - routes/custom-host
          verbs:
          - create
        - apiGroups:
          - monitoring.coreos.com
          resources:
          - podmonitors
          verbs:
          - create
          - delete
          - deletecollection
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - kafka.strimzi.io
          resources:
          - kafkatopics
          - kafkas
          verbs:
          - get
          - list
          - watch
        serviceAccountName: camel-dashboard-operator
    strategy: deployment
  installModes:
  - supported: true
    type: OwnNamespace
  - supported: true
    type: SingleNamespace
  - supported: false
    type: MultiNamespace
  - supported: true
    type: AllNamespaces
  keywords:
  - apache
  - kamel
  - kubernetes
  - serverless
  - microservices
  labels:
    name: camel-dashboard-operator
  links:
  - name: Apache Camel K source code repository
    url: https://github.com/apache/camel-dashboard
  maintainers:
  - email: janstey@redhat.com
    name: Jon Anstey
  maturity: alpha
  minKubeVersion: 1.14.0
  provider:
    name: Red Hat
    url: https://access.redhat.com/products/red-hat-integration
  replaces: red-hat-camel-dashboard-operator.v1.10.9
  selector:
    matchLabels:
      name: camel-dashboard-operator
  version: 1.10.10
